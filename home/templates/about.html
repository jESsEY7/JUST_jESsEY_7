{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,600;0,700;1,600&display=swap" rel="stylesheet">

<style>
    :root {
      --glass: rgba(255, 252, 245, 0.04);
      --glass-border: rgba(255, 255, 255, 0.12);
      --accent: #f59e0b;
      --accent-bright: #fbbf24;
      --accent-glow: rgba(245, 158, 11, 0.3);
      --text-main: #fafafa;
      --text-muted: #cbd5e1;
      --bg: #0a0a0f;
      --ease-out: cubic-bezier(0.23, 1, 0.32, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
        
    body {
      background: radial-gradient(ellipse at top, #1a1a2e 0%, #0f0f1a 40%, var(--bg) 100%);
      color: var(--text-main);
      font-family: 'Outfit', sans-serif;
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* --- GRAIN TEXTURE --- */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      opacity: 0.045;
      z-index: 100;
      pointer-events: none;
      background-image: url("https://upload.wikimedia.org/wikipedia/commons/7/76/1k_Grain_Noise.jpg");
      background-repeat: repeat;
      animation: grain 8s steps(10) infinite;
    }

    @keyframes grain {
      0%, 100% { transform: translate(0, 0); }
      10% { transform: translate(-5%, -10%); }
      30% { transform: translate(7%, -25%); }
      50% { transform: translate(-15%, 10%); }
      70% { transform: translate(0%, 15%); }
      90% { transform: translate(-10%, 10%); }
    }

    /* --- AMBIENT GLOW --- */
    .glow-orb {
      position: fixed;
      width: 700px;
      height: 700px;
      border-radius: 50%;
      background: radial-gradient(circle, var(--accent-glow) 0%, transparent 70%);
      filter: blur(90px);
      opacity: 0.35;
      pointer-events: none;
      z-index: -1;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: pulse-glow 10s ease-in-out infinite;
    }

    @keyframes pulse-glow {
      0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
      50% { transform: translate(-50%, -50%) scale(1.25); opacity: 0.45; }
    }

    /* --- LAYOUT --- */
    .page-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 6rem 2rem 4rem;
      position: relative;
      z-index: 2;
      max-width: 1200px;
      margin: 0 auto;
    }

    /* --- HEADER --- */
    .page-header {
      margin-bottom: 4rem;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 1s var(--ease-out) forwards;
    }

    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0); }
    }

    .page-header h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2.5rem, 6vw, 4rem);
      line-height: 1.1;
      margin-bottom: 1rem;
      font-weight: 700;
      letter-spacing: -0.02em;
    }

    .accent-text {
      color: var(--accent-bright);
      font-style: italic;
      position: relative;
    }

    .accent-text::after {
      content: '';
      position: absolute;
      bottom: 2px;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--accent), transparent);
      border-radius: 2px;
      opacity: 0.5;
    }

    .page-subtitle {
      font-size: 1.2rem;
      color: var(--text-muted);
      font-weight: 300;
      max-width: 700px;
    }

    /* --- GLASS CARDS --- */
    .glass-card {
      background: var(--glass);
      backdrop-filter: blur(40px) saturate(180%);
      border: 1px solid var(--glass-border);
      border-radius: 32px;
      padding: 3.5rem 3rem;
      box-shadow: 
        0 40px 100px rgba(0, 0, 0, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
      position: relative;
      overflow: hidden;
      margin-bottom: 2.5rem;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 1s var(--ease-out) forwards;
    }

    .glass-card:nth-child(2) { animation-delay: 0.15s; }
    .glass-card:nth-child(3) { animation-delay: 0.3s; }
    .glass-card:nth-child(4) { animation-delay: 0.45s; }
    .glass-card:nth-child(5) { animation-delay: 0.6s; }

    .glass-card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(245, 158, 11, 0.04) 0%, transparent 50%);
      pointer-events: none;
      opacity: 0.8;
    }

    .glass-card h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      color: var(--accent-bright);
      margin-bottom: 1.5rem;
      font-weight: 700;
      letter-spacing: -0.02em;
    }

    .glass-card h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.4rem;
      color: var(--text-main);
      margin: 2rem 0 1rem;
      font-weight: 600;
    }

    .glass-card p {
      font-size: 1.05rem;
      color: var(--text-muted);
      line-height: 1.8;
      margin-bottom: 1.5rem;
      font-weight: 300;
    }

    .glass-card p:last-child {
      margin-bottom: 0;
    }

    /* --- TIMELINE --- */
    .timeline {
      position: relative;
      padding-left: 2.5rem;
      margin-top: 2rem;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, var(--accent), transparent);
    }

    .timeline-item {
      margin-bottom: 2.5rem;
      position: relative;
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -2.9rem;
      top: 0.3rem;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--accent-bright);
      box-shadow: 0 0 0 4px rgba(245, 158, 11, 0.2);
    }

    .timeline-year {
      font-size: 0.9rem;
      color: var(--accent);
      font-weight: 600;
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .timeline-title {
      font-size: 1.2rem;
      color: var(--text-main);
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    .timeline-desc {
      font-size: 0.95rem;
      color: var(--text-muted);
      line-height: 1.6;
      font-weight: 300;
    }

    /* --- VALUE GRID --- */
    .values-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .value-item {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 2rem;
      transition: all 0.4s var(--ease-out);
      position: relative;
      overflow: hidden;
    }

    .value-item::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(245, 158, 11, 0.05) 0%, transparent 60%);
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .value-item:hover::before {
      opacity: 1;
    }

    .value-item:hover {
      transform: translateY(-6px);
      border-color: var(--accent);
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.3);
    }

    .value-icon {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .value-item h4 {
      font-size: 1.1rem;
      color: var(--accent-bright);
      margin-bottom: 0.8rem;
      font-weight: 600;
    }

    .value-item p {
      font-size: 0.9rem;
      color: var(--text-muted);
      line-height: 1.6;
      margin: 0;
      font-weight: 300;
    }

    /* --- TECH BADGES --- */
    .tech-showcase {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 2rem;
    }

    .tech-badge {
      font-size: 0.85rem;
      padding: 0.6rem 1.2rem;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--text-muted);
      font-weight: 400;
      transition: all 0.3s ease;
    }

    .tech-badge:hover {
      background: rgba(245, 158, 11, 0.1);
      border-color: rgba(245, 158, 11, 0.3);
      color: var(--accent-bright);
      transform: translateY(-2px);
    }

    /* --- CTA SECTION --- */
    .cta-section {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 3rem;
      text-align: center;
      margin-top: 3rem;
    }

    .cta-section h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      color: var(--text-main);
      margin-bottom: 1rem;
    }

    .cta-section p {
      color: var(--text-muted);
      margin-bottom: 2rem;
      font-size: 1.05rem;
    }

    .cta-buttons {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .cta-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2.5rem;
      border-radius: 14px;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.35s var(--ease-out);
      position: relative;
      overflow: hidden;
    }

    .cta-btn.primary {
      background: linear-gradient(135deg, var(--text-main), #e5e5e5);
      color: var(--bg);
      font-weight: 600;
    }

    .cta-btn.primary:hover {
      background: linear-gradient(135deg, var(--accent-bright), var(--accent));
      transform: translateY(-3px);
      box-shadow: 0 12px 32px rgba(245, 158, 11, 0.3);
    }

    .cta-btn.secondary {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid var(--glass-border);
      color: var(--text-main);
    }

    .cta-btn.secondary::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--accent-bright), var(--accent));
      opacity: 0;
      transition: opacity 0.35s ease;
    }

    .cta-btn.secondary span {
      position: relative;
      z-index: 1;
    }

    .cta-btn.secondary:hover::before {
      opacity: 0.15;
    }

    .cta-btn.secondary:hover {
      transform: translateY(-3px);
      border-color: var(--accent);
      box-shadow: 0 12px 32px rgba(245, 158, 11, 0.25);
    }

    /* --- RESPONSIVE --- */
    @media (max-width: 768px) {
      .page-container {
        padding: 4rem 1.5rem 3rem;
      }

      .page-header h1 {
        font-size: 2.2rem;
      }

      .glass-card {
        padding: 2.5rem 2rem;
        border-radius: 24px;
      }

      .glass-card h2 {
        font-size: 1.6rem;
      }

      .values-grid {
        grid-template-columns: 1fr;
      }

      .cta-buttons {
        flex-direction: column;
      }

      .timeline {
        padding-left: 2rem;
      }
    }
</style>
{% endblock extra_css %}

{% block content %}
{{% load wagtailcore_tags wagtailimages_tags %}}
<div class="glow-orb"></div>
<div class="page-container">
    <header class="page-header">
        <h1>Building for the <span class="accent-text">long run.</span></h1>
        <p class="page-subtitle">
            {{ page.subtitle }}
            A deeper look at my approach to systems architecture, engineering philosophy, and the journey that brought me here.
        </p>
    </header>

    <div class="glass-card">
        <h2>Origin Story</h2>
        {# {{ page.origin_story|richtext }} #}
        <p>
            I didn't start as a software engineer. I started as someone who saw patterns‚Äîin systems, in inefficiencies, in the gap between what technology promised and what it delivered. That curiosity led me to code, but it was the desire to solve real problems that kept me building.
        </p>
        <p>
            Based in Nairobi, I've worked at the intersection of finance, agriculture, and technology‚Äîindustries where poorly designed systems don't just fail, they create cascading consequences. This reality shaped my engineering philosophy: design for resilience, optimize for clarity, and never mistake complexity for sophistication.
        </p>
    </div>

    <div class="glass-card">
        <h2>How I Build</h2>
        {# {{ page.how_i_build_content|richtext }} #}
        <h3>Systems Before Interfaces</h3>
        <p>
            The best user experiences are built on solid foundations. I start with data models, state machines, and API contracts before touching a single line of frontend code. This ensures that what users see is backed by systems that scale.
        </p>

        <h3>Clarity Before Scale</h3>
        <p>
            Premature optimization is real. I prioritize readable code, explicit data flow, and maintainable architecture. Scale when you need to, not because you're afraid you might.
        </p>

        <h3>Outcomes Over Technology</h3>
        <p>
            Every technical decision should map to a business outcome. I choose boring, proven technologies that solve the problem at hand. The goal is production-ready systems that deliver value, not r√©sum√©-driven development.
        </p>
    </div>

    <div class="glass-card">
        <h2>Core Values</h2>
        {# {{ page.values_section }} #}
        <div class="values-grid">
            <div class="value-item">
                <div class="value-icon">üéØ</div>
                <h4>Intentionality</h4>
                <p>Every line of code should have a clear purpose. No cargo-cult patterns, no speculative features.</p>
            </div>
            <div class="value-item">
                <div class="value-icon">üîí</div>
                <h4>Reliability</h4>
                <p>Systems should fail gracefully. Error handling isn't an afterthought‚Äîit's fundamental design.</p>
            </div>

            <div class="value-item">
                <div class="value-icon">‚ö°</div>
                <h4>Efficiency</h4>
                <p>Performance matters, but context matters more. Optimize bottlenecks, not hypotheticals.</p>
            </div>

            <div class="value-item">
                <div class="value-icon">üìê</div>
                <h4>Modularity</h4>
                <p>Components should be loosely coupled and highly cohesive. Change one thing without breaking three others.</p>
            </div>
        </div>
    </div>

    <div class="glass-card">
        <h2>Technical Journey</h2>
        {# {{ page.timeline_items }} #}
        <div class="timeline">
            <div class="timeline-item">
                <div class="timeline-year">2024 ‚Äî Present</div>
                <div class="timeline-title">Systems Architect</div>
                <div class="timeline-desc">
                    Building production-grade fintech systems for livestock investment, integrating IoT tracking with M-Pesa payment rails.
                </div>
            </div>
            </div>
    </div>

    <div class="cta-section glass-card">
        <h3>Let's Build Something</h3>
        <p>
            {# {{ page.cta_text }} #}
            If you're working on systems that matter‚Äîfintech, infrastructure, data platforms‚Äîlet's talk.
        </p>
        <div class="cta-buttons">
            <a href="mailto:hello@jessekipyegon.com" class="cta-btn primary">
                <span>Get in Touch</span>
            </a>
            <a href="{% url 'home' %}#projects" class="cta-btn secondary">
                <span>View Projects</span>
            </a>
        </div>
    </div>
</div>
{% endblock content %}

{% block extra_js %}
<script>
    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
</script>
{% endblock extra_js %}